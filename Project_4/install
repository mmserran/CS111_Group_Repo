# Mark, James C., Tyler, James K., Richard
# Project 4 - Install Script - see README.txt

#!/bin/bash


# declare our library calls in ``unistd.h''
cp unistd.h /usr/src/include/unistd.h

##               slug_read                         ##
#####################################################


# define library call: slugread in ``sys-minix/''
### add source code
cp sys-minix/slugread.c /usr/src/lib/libc/sys-minix/slugread.c
### add file to Makefile
cp sys-minix/Makefile.inc /usr/src/lib/libc/sys-minix/Makefile.inc


# register function into call table
### define call number in ``callnr.h'' (SLUG_LIBREAD = 69)
cp callnr.h /usr/src/include/minix/callnr.h
### define prototype in ``proto.h''
cp vfs/proto.h /usr/src/servers/vfs/proto.h
### register function in ``table.c''
cp vfs/table.c /usr/src/servers/vfs/table.c


# define function in MINIX vfs server
cp vfs/slugread.c /usr/src/servers/vfs/slugread.c

# add previous file to ``/usr/src/servers/vfs/Makefile''
cp vfs/Makefile /usr/src/servers/vfs/Makefile



##   Go to the top-level directory and recompile   ##
#####################################################
cd /usr/src/releasetools
make install
